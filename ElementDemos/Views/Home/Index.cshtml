@{
    ViewData["Title"] = "Home Page";
    Layout = null;
}
@model IEnumerable<Menu>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ElementDemos</title>
    <link href="https://cdn.bootcss.com/element-ui/2.12.0/theme-chalk/index.css" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css" />
</head>
<body>
    <div id="app">
        <el-container>
            <el-header>Header</el-header>
            <el-container>
                <el-aside width="200px" style="background-color:red">
                    <el-menu 
                             default-active="1" 
                             mode="vertical" 
                             background-color="#545c64"
                             text-color="#fff"
                             active-text-color="#ffd04b">
                        @foreach (var item in Model)
                        {
                            @await Html.PartialAsync("~/Views/Home/_Menu.cshtml", item)
                        }
                    </el-menu>
                </el-aside>
                <el-main>
                    Main
                </el-main>
                <el-footer>Footer</el-footer>
            </el-container>
        </el-container>
    </div>


    <environment include="Development">
        <script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
    </environment>

    <environment exclude="Development">
        <script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
    </environment>

    <script src="https://cdn.bootcss.com/element-ui/2.12.0/index.js"></script>
    <script src="https://cdn.bootcss.com/axios/0.19.0/axios.js"></script>

    <script src="~/js/site.js" asp-append-version="true"></script>
    <script>
        const vm = new Vue({
            data: {
                menus: [],
            },
            mounted: function () {
                httpClient.get('/home/menus').then(response => {
                    this.menus = response.data;
                })
            }
        });
        vm.$mount('#app');
    </script>
</body>
</html>
